<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover"  />
  <title i18n="nav_title"></title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="../assets/img/favicon.ico" rel="icon">

  <!-- Vendor CSS Files -->
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="../assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="../assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="../assets/vendor/sweetalert/bootstrap-4.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link rel="stylesheet" href="../assets/css/only.css">
  <link href="../assets/css/style.css" rel="stylesheet">
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
      <div class="container display-flex">
        <div class="logo">
          <a href="../welcome/index.html">
            <img src="../assets/img/favicon.ico" alt="">
          <span i18n="nav_logo">
            
          </span></a>
          
        </div>
  
        <nav class="nav-menu d-none d-lg-block">
          <ul>
            <li><a href="../welcome/index.html" i18n="nav_index"></a></li>
            <li class="drop-down"><a href="" i18n="nav_product"></a>
              <ul id="drop-ul">
                <li><a href="../recognise.html" i18n="nav_audiomain"></a></li>
                <li><a href="../long_recognise.html" i18n="nav_audiomain_long"></a></li>
                <li><a href="../tts.html" i18n="nav_tts"></a></li>
                <li><a href="../assess.html" i18n="nav_assess"></a></li>
              </ul>
            </li>
            <li class="ifshow active"><a href="../user/control.html" i18n="control"></a></li>
            <li><a href="../document/userDocument.html" i18n="nav_document"></a></li>
            <li><a href="../new/newlist.html" i18n="nav_news"></a></li>
            <li><a href="uservice.html" i18n="nav_service"></a></li>
            <li><a href="../forum/questionlist.html" i18n="nav_forum"></a></li>
            <li class="mobile-contact"><a href="javascript:void(0);" i18n="nav_contact"></a></li>
            
          </ul>
          <li class="login-reg" style="display:none;">
              <a href="../login/login.html" onclick="gologin()" i18n="signIn"></a>
              |
              <a href="../login/login.html" onclick="gologin()" i18n="signUp"></a>
          </li>
          <li class="drop-down user" style="display:none;"><a href="" class="username"></a>
            <ul id="drop-ul">
              
              <li><a href="../login/resetpass.html" i18n="nav_checkpass"></a></li>
              <li><a id="logout" onclick="logout()" i18n="nav_logout"></a></li>
            </ul>
          </li>
        </nav><!-- .nav-menu -->
        <img src="../assets/img/trans.png" class="trans" onclick="isLang()">
      </div>
      
    </header><!-- End Header -->
    <section class="control" id="head">
      <div class="head-bg d-flex justify-content-center align-items-center">
        <h2 i18n="control"></h2>
      </div>
      <div class="bight"></div>
    </section><!-- End header Section -->
  <main id="main" class="control-main">

    <!-- ======= document Section ======= -->
    <section class="control-main-section">
      <div class="container">
        <div class="control-bg">
            <div class="con-title">
              <span style="font-size:20px;">服务整体可用状态</span>
              <span class="success">正常</span>
            </div>
            <div class="main_m">
            </div>
        </div>
      </div>
    </section><!-- End main Section -->
  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
      <div class="container">
        <div class="copyright">
            <span i18n="footerFAQ"></span> 
            <a href="./contact.html"></a>
        </div>
      </div>
    </footer><!-- End Footer -->
  <!-- Vendor JS Files -->
  <script src="../assets/js/common/isIE.js"></script>
  <script src="../assets/vendor/jquery/jquery.min.js"></script>
  <script src="../i18n/ehi-i18n.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="../assets/vendor/jquery.Base64/jquery.base64.js"></script>
  <script src="../assets/vendor/aos/aos.js"></script>
  <script src="../assets/vendor/sweetalert/sweetalert2.min.js"></script>
  <script src="../assets/vendor/recorder-core/recorder.wav.min.js"></script>
  <script src="../assets/vendor/recorder-core/waveview.js"></script>

  <!-- Template Main JS File -->
  <script src="../assets/js/common/url.js"></script>
  <script src="../assets/js/common/main.js"></script>
  

</body>
<script>
  var serverList = []
  setTimeout(()=>{
    getServerStatus()
  },2000)
  function getServerStatus(){
    $.ajax({
      url:'https://voice.lenovomm.com/task/smb/status',
      type:'post',
      success:(res)=>{
        if(res.errorcode != 1024){
          var vhtml = ''
          for(let prop in res) {
            serverList.push({
                  name: prop,
                  status: res[prop]
              })
          }
          $.each(serverList,(idx,val)=>{
            vhtml +=`<div class="main_map">
                        <div class="${classVal(val.status)}">
                            <span class="m_ser">${val.name}</span>
                            <span class="m_state">${statusVal(val.status)}</span>
                        </div>
                    </div>`
          })
          $('.main_m').append(vhtml)
        }else{
          localStorage.removeItem('token')
          Swal.fire({
            text: i18n.get('logTimeOut'),
            showCancelButton: true,
            allowOutsideClick:false,
            allowEscapeKey:false,
            reverseButtons:true,
            width:'16em',
            confirmButtonColor: '#94cb82',
            cancelButtonColor: '#d33',
            confirmButtonText: i18n.get('confirm'),
            cancelButtonText:i18n.get('cancel')
          }).then((result) => {
            if (result.isConfirmed) {
              var url = window.location.href
              window.localStorage.setItem('returnurl',url)
              window.location.href = '../login/login.html'
            }
          })
        }
        
      },
      error:function(){
        Swal.fire({
            text:i18n.get('server_error'),
            confirmButtonText: i18n.get('confirm'),
            confirmButtonColor: '#94cb82'
        })
      }
    })
  }
  function statusVal(v){
    if(v == 0){
      return '正常'
    }
    if(v == 1){
      return '异常'
    }
  }
  function classVal(v){
    if(v == 0){
      return 'normal_line'
    }else{
      return 'abnormal_line'
    }
  }
</script>
</html>